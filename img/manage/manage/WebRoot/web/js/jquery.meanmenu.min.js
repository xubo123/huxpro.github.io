(function(a){a.fn.meanmenu=function(b){var c={meanMenuTarget:jQuery(this),meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"960",meanNavPush:"",meanShowChildren:true,meanExpandableChildren:true,meanExpand:"+",meanContract:"-",meanRemoveAttrs:false};var b=a.extend(c,b);currentWidth=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){var k=b.meanMenuTarget;var l=b.meanReveal;var o=b.meanMenuClose;var r=b.meanMenuCloseSize;var f=b.meanMenuOpen;var d=b.meanRevealPosition;var g=b.meanRevealPositionDistance;var h=b.meanRevealColour;var t=b.meanRevealHoverColour;var n=b.meanScreenWidth;var p=b.meanNavPush;var j=".meanmenu-reveal";meanShowChildren=b.meanShowChildren;meanExpandableChildren=b.meanExpandableChildren;var v=b.meanExpand;var w=b.meanContract;var m=b.meanRemoveAttrs;if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))||(navigator.userAgent.match(/Android/i))||(navigator.userAgent.match(/Blackberry/i))||(navigator.userAgent.match(/Windows Phone/i))){var q=true}if((navigator.userAgent.match(/MSIE 8/i))||(navigator.userAgent.match(/MSIE 7/i))){jQuery("html").css("overflow-y","scroll")}function e(){if(d=="center"){var x=window.innerWidth||document.documentElement.clientWidth;var y=((x/2)-22)+"px";meanRevealPos="left:"+y+";right:auto;";if(!q){jQuery(".meanmenu-reveal").css("left",y)}else{jQuery(".meanmenu-reveal").animate({left:y})}}}menuOn=false;meanMenuExist=false;if(d=="right"){meanRevealPos="right:"+g+";left:auto;"}if(d=="left"){meanRevealPos="left:"+g+";right:auto;"}e();meanStyles="background:"+h+";color:"+h+";"+meanRevealPos;function i(){if(jQuery($navreveal).is(".meanmenu-reveal.meanclose")){$navreveal.html(o)}else{$navreveal.html(f)}}function u(){jQuery(".mean-bar,.mean-push").remove();jQuery("body").removeClass("mean-container");jQuery(k).show();menuOn=false;meanMenuExist=false}function s(){if(currentWidth<=n){meanMenuExist=true;jQuery("body").addClass("mean-container");jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var x=jQuery(k).html();jQuery(".mean-nav").html(x);if(m){jQuery("nav.mean-nav *").each(function(){jQuery(this).removeAttr("class");jQuery(this).removeAttr("id")})}jQuery(k).before('<div class="mean-push" />');jQuery(".mean-push").css("margin-top",p);jQuery(k).hide();jQuery(".meanmenu-reveal").show();jQuery(j).html(f);$navreveal=jQuery(j);jQuery(".mean-nav ul").hide();if(meanShowChildren){if(meanExpandableChildren){jQuery(".mean-nav ul ul").each(function(){if(jQuery(this).children().length){jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+r+'">'+v+"</a>")}});jQuery(".mean-expand").on("click",function(y){y.preventDefault();if(jQuery(this).hasClass("mean-clicked")){jQuery(this).text(v);console.log("Been clicked");jQuery(this).prev("ul").slideUp(300,function(){})}else{jQuery(this).text(w);jQuery(this).prev("ul").slideDown(300,function(){})}jQuery(this).toggleClass("mean-clicked")})}else{jQuery(".mean-nav ul ul").show()}}else{jQuery(".mean-nav ul ul").hide()}jQuery(".mean-nav ul li").last().addClass("mean-last");$navreveal.removeClass("meanclose");jQuery($navreveal).click(function(y){y.preventDefault();if(menuOn==false){$navreveal.css("text-align","center");$navreveal.css("text-indent","0");$navreveal.css("font-size",r);jQuery(".mean-nav ul:first").slideDown();menuOn=true}else{jQuery(".mean-nav ul:first").slideUp();menuOn=false}$navreveal.toggleClass("meanclose");i()})}else{u()}}if(!q){jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>n){u()}else{u()}if(currentWidth<=n){s();e()}else{u()}})}window.onorientationchange=function(){e();currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>=n){u()}if(currentWidth<=n){if(meanMenuExist==false){s()}}};s()})}})(jQuery);